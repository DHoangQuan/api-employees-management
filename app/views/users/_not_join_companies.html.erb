<!-- DataTales Example -->
<div class="card shadow mb-4">
  <div class="card-header py-3">
    <h6 class="m-0 font-weight-bold text-primary">List Users</h6>
  </div>

  <div class="card-body">
    <%= form_with url: join_companies_user_path(@user), method: :post do |form| %>
      <div class="table-responsive">
        <table class="table table-bordered dataTable" width="100%" cellspacing="0">
            <thead>
                <tr>
                  <th>Number</th>
                  <th>Check to join</th>
                  <th>Company Name</th>
                </tr>
            </thead>
            <tbody>
                <% count = 0 %>
                <% @companies.each do |company| %>
                  <% count += 1 %>
                <tr>
                  <td><%= count %></td>
                  <td><%= form.check_box(:company_ids, { multiple: true }, company.id, nil) %></td>
                  <td><%= company.display_name.upcase %></td>
                </tr>
                <% end %>
            </tbody>
        </table>
      </div>
      <%= form.submit class: 'btn btn-success'%>
    <% end %>
  </div>
</div>

<script>
  $(document).ready(function() {
    $('.dataTable').DataTable();
  });
</script>