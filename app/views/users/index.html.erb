<!-- Page Heading -->
<div class="d-sm-flex align-items-center justify-content-between mb-4 row">
  <h1 class="col-md-9 h3 mb-2 text-gray-800">Users</h1>
  <!-- Button trigger modal -->
  <button type="button" class="col-8 col-md-2 btn btn-sm shadow-sm ml-3 mr-3" data-toggle="modal" data-target="#exampleModal">
    <i class="fas fa-plus fa-sm"></i> New User
  </button>
</div>

<!-- DataTales Example -->
<div class="card shadow mb-4">
  <div class="card-header py-3">
    <h6 class="m-0 font-weight-bold text-primary">List Users</h6>
  </div>

  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-bordered dataTable" width="100%" cellspacing="0">
        <thead>
            <tr>
              <th>STT</th>
              <th>Display Name</th>
              <th>Email</th>
              <th>Phone</th>
              <th>Title</th>
              <th></th>
            </tr>
        </thead>
        <tbody>
          <% count = 0 %>
          <% @users.each do |user| %>
            <% count += 1 %>
            <tr>
              <td><%= count %></td>
              <td><%= user.display_name.upcase %></td>
              <td><%= user.email %></td>
              <td><%= user.phone_number %></td>
              <td><%= user.title %></td>
              <td>
                <%= link_to 'Detail', user_path(id: user.id), class: 'btn btn-sm px-2' %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade bd-example-modal-lg" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Create New User</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <%= form_with url: '/users', method: :post do |form| %>
        <div class="modal-body">
          <%= form.label :title, 'Title: Employee' %>
          <%= form.hidden_field :title,
                              value: 'Employee',
                              class: 'form-control form-control-user' %>
          <br>
          <div class="row">
            <div class="col-md-4">
              <%= form.label :first_name, 'First name:' %>
              <%= form.text_field :first_name, required: true, class: 'form-control form-control-user' %>
            </div>
            <div class="col-md-4">
              <%= form.label :middle_name, 'Middle name:' %>
              <%= form.text_field :middle_name, class: 'form-control form-control-user' %>
            </div>
            <div class="col-md-4">
              <%= form.label :last_name, 'Last name:' %>
              <%= form.text_field :last_name, required: true, class: 'form-control form-control-user' %>
            </div>
          </div>
          <br>
          <div class="row">
            <div class="col-md-6">
              <%= form.label :display_name, 'Display name:' %>
              <%= form.text_field :display_name, required: true, class: 'form-control form-control-user' %>
            </div>
            <div class="col-md-6">
              <%= form.label :email, 'Email:' %>
              <%= form.text_field :email, required: true, class: 'form-control form-control-user' %>
            </div>
          </div>
          <br>
          <%= form.label :address1, 'Address line 1:' %>
          <%= form.text_field :address1, class: 'form-control form-control-user' %>
          <br>
          <%= form.label :address2, 'Address line 2:' %>
          <%= form.text_field :address2, class: 'form-control form-control-user' %>
          <br>
          <%= form.label :note, 'Note:' %>
          <%= form.text_area :note, size: "40x5", class: 'form-control form-control-user' %>
        </div>
        <div class="modal-footer">
          <%= form.submit class: 'btn btn-success'%>
        </div>
      <% end %>
    </div>
  </div>
</div>